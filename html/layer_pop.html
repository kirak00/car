<!DOCTYPE html>
<html lang="ko">
<head>
<title>차부바</title>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<link rel="stylesheet" href="../js/jquery-ui-1.12.1/jquery-ui.css">
<link rel="stylesheet" href="../css/common.css">

<script src="../js/juqery-3.7.0.min.js"></script>
<script src="../js/jquery-ui-1.12.1/jquery-ui.js"></script>
<script src="../js/common.js"></script>
</head>
<body>
<style>
  button    {padding:0 14px; flex:1}
</style>
  <div class="wrap">
    <section class="container">
      <div style="padding:100px 0 0; display:flex; gap:10px; flex-wrap: wrap; ">
        <button type="button" class="btn" id="layerBtn_1">alert</button>
        <button type="button" class="btn" id="layerBtn_2">담당자 연락처</button>
        <button type="button" class="btn" id="layerBtn_3">결제방식 선택</button>
        <button type="button" class="btn" id="layerBtn_4">결제 예정금액(법인)</button>
        <button type="button" class="btn" id="layerBtn_5">결제 예정금액(간편)</button>
        <button type="button" class="btn" id="layerBtn_6">날짜 예약</button>
        <button type="button" class="btn" id="layerBtn_7">시간 예약</button>
        <button type="button" class="btn" id="layerBtn_8">전화연결</button>
        <button type="button" class="btn" id="layerBtn_9">요금변경</button>
      </div>
    </section>
  </div>


<!-- 레이어 alert -->
<div class="layerWrap" id="layer_1">
  <div class="layerBody">
    <button type="button" class="layerClose"></button>
    <div class="ment">
      <p>
        출발지 정보가 입력되지 않았습니다. <br>
        출발지 주소를 직접 입력해주세요.
      </p>
    </div>
    <div class="layerBtn">
      <!-- <button type="button" class="btn">취소</button> -->
      <button type="button" class="btnOK" onclick="layer_close('layer_1')">확인</button>
    </div>
  </div>
</div>


<!-- 레이어 담당자 연락처  -->
<div class="layerWrap "  id="layer_2">
  <div class="layerBody">
    <button type="button" class="layerClose"></button>
    <div class="layerCont">
      <div class="managerContact">
        <div class="titBox">
          <strong>담당자 연락처</strong>
          <button type="button" class="btnAdd">연락처 선택</button>
        </div>
        <div class="inputWrap">
          <input type="text" name="" id="" placeholder="전화번호를 입력하세요.">
          <button type="button" class="btnDel"></button>
        </div>
        <p class="error">유효하지 않은 전화번호 입니다. 다시 입력해주세요.</p>
      </div>
    </div>
    <div class="layerBtn">
      <button type="button" class="btnOK"  onclick="layer_close('layer_2')">확인</button>
    </div>
  </div>
</div>



<!-- 레이어 결제방식 선택 -->
<div class="layerWrap bottom" id="layer_3">
  <div class="layerBody">
    <button type="button" class="layerClose"></button>
    <div class="layerCont payType">
      <div class="tit">
        결제 방식 선택
      </div>
      <div class="payInfo">
        운행요금 : <strong>30,000원</strong>
      </div>

    </div>

    <div class="layerBtn">
      <button type="button" class="type01 btnOK" onclick="layer_open('layer_4')"><strong>법인</strong> <span>후불결제</span></button>
      <button type="button" class="type02 btn" onclick="layer_open('layer_5')"><strong>개인</strong> <span>간편결제</span></button>
    </div>
  </div>
</div>



<!-- 레이어 결제 예정금액(법인)  -->
<div class="layerWrap "  id="layer_4">
  <div class="layerBody">
    <button type="button" class="layerClose"></button>
    <div class="layerCont">
      <div class="paymentConfirm">
        <div class="titBox">
          <em>결제 예정금액</em>
          <strong>0원</strong>
          <p class="tip">도착지에서 <strong>기사님께 현금을 내지 마세요</strong></p>
        </div>
        <ul class="payInfo">
          <li>
            <em>법인후불 결제</em>
            <span>신한 1234</span>
          </li>
          <li>
            <em>사용 충전금</em>
            <span>0 원</span>
          </li>
          <li>
            <em>결제일</em>
            <span>운행 완료 후 결제</span>
          </li>
        </ul>

        <div class="paytime">
          <span>결제일 지정 (7일 이내)</span>
          <button type="button" class="btnAdd">변경</button>
        </div>
        
      </div>
    </div>
    <div class="layerBtn">
      <button type="button" class="btn"  onclick="layer_close('layer_4')">취소</button>
      <button type="button" class="btnOK"  onclick="layer_close('layer_3');layer_close('layer_4')">확인</button>
    </div>
  </div>
</div>


<!-- 레이어 결제 예정금액(간편)  -->
<div class="layerWrap "  id="layer_5">
  <div class="layerBody">
    <button type="button" class="layerClose"></button>
    <div class="layerCont">
      <div class="paymentConfirm">
        <div class="titBox">
          <em>결제 예정금액</em>
          <strong>150,000원</strong>
          <p class="tip">도착지에서 <strong>기사님께 현금을 내지 마세요</strong></p>
        </div>
        <ul class="payInfo">
          <li>
            <em>적용 쿠폰</em>
            <span>탁송 지원 패키지 1만원권</span>
          </li>
          <li>
            <em>사용 충전금</em>
            <span>30,000 원</span>
          </li>
          <li>
            <em>결제수단</em>
            <span>간편카드(비씨 2430)</span>
          </li>
        </ul>

        <div class="payPoint">
          <em>회원 혜택</em>
          <p>
            운행완료 후 2,500 포인트가 적립됩니다.  <br>
            (리워드는 익일 오후에 적립됩니다.)
          </p>
        </div>
        
      </div>
    </div>
    <div class="layerBtn">
      <button type="button" class="btnOK"  onclick="layer_close('layer_3');layer_close('layer_5')">호출하기</button>
    </div>
  </div>
</div>


<!-- 레이어 날짜 예약 -->
<div class="layerWrap bottom"  id="layer_6">
  <div class="layerBody">
    <button type="button" class="layerClose"></button>
    <div class="layerCont datepicker">
      <div class="tit">날짜 예약</div>
      <div id="datepickerInline"></div>
    </div>
    <div class="layerBtn">
      <button type="button" class="btn"  onclick="layer_close('layer_6')">취소</button>
      <button type="button" class="btnOK"  onclick="layer_close('layer_6')">선택</button>
    </div>
  </div>
</div>

<!-- 레이어 시간 예약 -->
<div class="layerWrap bottom "  id="layer_7">
  <div class="layerBody timepicker">
    <button type="button" class="layerClose"></button>
    <div class="layerCont">
      <div class="tit">
        시간 예약
        <span class="chk">
          <input type="checkbox" name="" id="timePickChk"> <label for="timePickChk"><span>즉시 예약</span></label>
        </span>
      </div>
      <div class="timePick">
        <span class="focus"></span>
        <span class="focus1"></span>
        <span class="focus2"></span>
        <span class="focus3"></span>
        <span class="focus4"></span>
        <div class="scroll hour">
          <ul>
            <li></li>
            <li></li>
            <li><button type="button" class="on">01</button></li>
            <li><button type="button">02</button></li>
            <li><button type="button">03</button></li>
            <li><button type="button">04</button></li>
            <li><button type="button">05</button></li>
            <li><button type="button">06</button></li>
            <li><button type="button">07</button></li>
            <li><button type="button">08</button></li>
            <li><button type="button">09</button></li>
            <li><button type="button">10</button></li>
            <li><button type="button">11</button></li>
            <li><button type="button">12</button></li>
            <li><button type="button">13</button></li>
            <li><button type="button">14</button></li>
            <li><button type="button">15</button></li>
            <li><button type="button">16</button></li>
            <li><button type="button">17</button></li>
            <li><button type="button">18</button></li>
            <li><button type="button">19</button></li>
            <li><button type="button">20</button></li>
            <li><button type="button">21</button></li>
            <li><button type="button">22</button></li>
            <li><button type="button">23</button></li>
            <li><button type="button">24</button></li>
            <li></li>
            <li></li>
          </ul>
        </div>
        <div class="txt">
          :
        </div>
        <div class="scroll minute">
          <ul>
            <li></li>
            <li></li>
            <li><button type="button" class="on">00</button></li>
            <li><button type="button">15</button></li>
            <li><button type="button">20</button></li>
            <li><button type="button">25</button></li>
            <li><button type="button">30</button></li>
            <li><button type="button">35</button></li>
            <li><button type="button">40</button></li>
            <li><button type="button">45</button></li>
            <li><button type="button">50</button></li>
            <li><button type="button">55</button></li>
            <li></li>
            <li></li>
          </ul>
        </div>
      </div>

    </div>
    <div class="layerBtn">
      <button type="button" class="btn"  onclick="layer_close('layer_7')">취소</button>
      <button type="button" class="btnOK"  onclick="layer_close('layer_7')">선택</button>
    </div>
  </div>
</div>

<style>

  .layerWrap .layerBody.callLayer .layerClose  {display:block;  }
  .callLayer .layerBtn          { padding: 0 18px 18px; }
  .callLayer .layerBtn button   { border-radius: 8px; }
  .callLayer .layerCont      {padding-top:145px; background:url(../images/img_callLayer.png) no-repeat 50% 40px; }
  .callLayer .layerCont .callTit      {text-align: center; padding:15px 0 20px;  }
  .callLayer .layerCont .callTit strong   {display:block; font-size:20px   }
  .callLayer .layerCont .callTit span     {display:block; font-size:16px   }
  .callLayer .layerCont .callTit em       {display:block; margin-top:12px; font-size:16px; color:#F55; font-weight: 700;   }
  .callLayer .layerCont .callInfo      { width:100%; box-sizing: content-box; margin:0 -20px; padding:16px 20px; background:#F5F5F5 }

  .layerWrap .layerBody.payCalc     {min-height:100px;}
  .layerWrap .layerBody.payCalc .layerCont    {padding-top:24px;}
  .layerWrap .layerBody.payCalc .layerClose   {display:none; }
  .layerWrap .layerBody.payCalc .layerBtn .btn      {border:2px solid #FFDB1F; background:#fff; }
  .layerWrap .layerBody.payCalc .layerBtn .btnOK     {min-width: 100px;}

</style>

<!-- 레이어 전화연결 -->
<div class="layerWrap "  id="layer_8">
  <div class="layerBody callLayer">
    <button type="button" class="layerClose"></button>
    <div class="layerCont">
      <div class="callTit">
        <strong>전화로 탁송를 부르시겠나요?</strong>
        <span>말로하는 탁송 호출!</span>
        <em>전화로 부르기는 쿠폰과 충전금 <br>사용을 할 수 없습니다.</em>
      </div>

      <div class="callInfo">
        <strong>[안내 사항]</strong>
        <ul>
          <li>• 상담사가 친절히 도와드리겠습니다.</li>
          <li>• 입력하신 출발지, 도착지 등의 정보를 기반으로 상담사가 신속하게 접수합니다.</li>
          <li>• 상담사를 통해 추가로 탁송을 요청하실 수 있습니다. 단, 추가로 호출한 건은 앱에서의 결제수단을 적용할 수 없고, 앱에서 제공하는 혜택을 받으실 수 없습니다.</li>
          <li>• 쿠폰과 충전금 사용은 앱으로 부를 때만 사용하실 수 있습니다. 전화로 부르기에서는 상담사가 고객님 쿠폰과 충전금 정보를 알 수 없어 사용할 수 없으니 양해 바랍니다.</li>
        </ul>
      </div>
    </div>
    <div class="layerBtn">
      <button type="button" class="btnCall"  onclick="layer_close('layer_8')">전화로 부르기</button>
    </div>
  </div>
</div>


<!-- 레이어 요금 변경 -->
<div class="layerWrap bottom"  id="layer_9">
  <div class="layerBody payCalc">
    <button type="button" class="layerClose"></button>
    <div class="layerCont">
      
      <div class="payBox">
        <div class="calc">
          <button type="button" class="minus"><span class="hide">-</span></button>
          <strong>34,000원</strong>
          <button type="button" class="plus"><span class="hide">+</span></button>
        </div>
      </div>

    </div>
    <div class="layerBtn">
      <button type="button" class="btn"  onclick="layer_close('layer_9')">취소</button>
      <button type="button" class="btnOK"  onclick="layer_close('layer_9')">다음</button>
    </div>
  </div>
</div>





<script>
  function timePicker(){
    
    var scrollBox  = $(".timePick .scroll")
    scrollBox.on("scroll",function(e){
      var This = this;
      if(this.scrollChk) return false;
      if(this.timer) clearTimeout(this.timer);
      this.timer = setTimeout(function(){
        if(This.scrollChk) return false;
        scrollSet(This);
      },40);
    });

    scrollBox.each(function(i,o){
      $(o).find("button").click(function(){
        var idx = (this.offsetTop-2)/40 -2;
        $(o).animate({scrollTop: idx*40},100)
      })
    })

    function scrollSet(obj){
      obj.scrollChk = true;
      var scrollTop  = obj.scrollTop;
      var sum01 = scrollTop%40;
      var speed = 1
      if(sum01 <= 20){
        speed = -1;
      }else{
        sum01 = 40-sum01
      }
      var sum02 = scrollTop + sum01*speed;
      $(obj).animate({scrollTop:sum02},150 , function(){
        setTimeout(function(){
          obj.scrollChk = false;
          timeSetting()
        },20)
      }) 
    }

    function timeSetting(){
      var time = []
      scrollBox.find("button").removeClass("on")
      scrollBox.each(function(i,o){
        var idx = Math.round(o.scrollTop/40)
        var target = $(o).find("button")[idx]
        time.push(target.innerText);
        $(target).addClass("on")
      });
      $(".timePick").attr({time : time.join(":")});
    }
  }


  $(function(){
    timePicker();
  })
  
  var layerIndex = 1000;
  function layer_open(id){
    layerIndex++;
    $("#" + id).addClass("show").css({zIndex:layerIndex});
    var Close  = $("#" + id).find(".layerClose")
    if(!Close[0].closeSet){
      Close.on("click",function(){
        this.closeSet = true;
        layer_close( id);
      })
    }
  }

  


  function layer_close(id){
    $("#" + id).removeClass("show")
  }
  
  $("#layerBtn_1").on("click",function(){
    layer_open("layer_1")  
  })
  $("#layerBtn_2").on("click",function(){
    layer_open("layer_2")  
  })
  
  $("#layerBtn_3").on("click",function(){
    layer_open("layer_3")  
  })
  
  $("#layerBtn_4").on("click",function(){
    layer_open("layer_4")  
  })
  
  $("#layerBtn_5").on("click",function(){
    layer_open("layer_5")  
  })

  $("#layerBtn_6").on("click",function(){
    layer_open("layer_6")  
  })

  $("#layerBtn_7").on("click",function(){
    layer_open("layer_7")  
  })

  $("#layerBtn_8").on("click",function(){
    layer_open("layer_8")  
  })
  $("#layerBtn_9").on("click",function(){
    layer_open("layer_9")  
  })

  $( function() {
    $( "#datepickerInline" ).datepicker({
      minDate: "0D"
    });
  } );

  
  </script>





</body>
</html>